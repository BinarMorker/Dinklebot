$(document).ready(function(){$(".character-label").click(function(){$(this).next(".character-content").animate({height:"toggle"});});$(".item-name").textfill({maxFontPixels:15,explicitWidth:150,explicitHeight:30});
$(".progress-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});$(".activity-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});
$(".grimoire-name").textfill({maxFontPixels:18});$(".shader").each(function(){var d=document.getElementById("canvas");var e=d.getContext("2d");var c=$(this).children("img")[0];
e.drawImage(c,0,0);var f=e.getImageData(0,0,1,1).data;$(this).css("background-color","rgb("+f[0]+","+f[1]+","+f[2]+")");});var b=new Masonry("#grimoire",{itemSelector:".grimoire"});
var a=new Masonry("#grimoire-lore",{itemSelector:".grimoire"});$(".progress-card").click(function(){var c=$(this).children(".progress-data");if($(this).hasClass("big")){c.animate({height:"30px"},400,"swing",function(){c.children(".progress-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});
});c.children(".progress-info").children(".progress-bar").animate({height:"30px",borderRightWidth:"30px"});c.children("small.more").animate({marginLeft:"30px"});
$(this).animate({height:"30px"}).removeClass("big");}else{c.children(".progress-name").textfill({maxFontPixels:15,explicitWidth:180,explicitHeight:30});
c.animate({height:"50px"},400,"swing");c.children(".progress-info").children(".progress-bar").animate({height:"50px",borderRightWidth:"50px"});c.children("small.more").animate({marginLeft:"50px"});
$(this).animate({height:"50px"}).addClass("big");}c.children("small.more").fadeToggle();});$(".card-popup").click(function(){var c=$(this).children(".item-data");
if($(this).hasClass("big")){c.animate({height:"30px"},400,"swing",function(){c.children(".item-name").textfill({maxFontPixels:15,explicitWidth:150,explicitHeight:30});
});$(this).animate({height:"30px"}).removeClass("big");}else{c.children(".item-name").textfill({maxFontPixels:15,explicitWidth:130,explicitHeight:30});
c.animate({height:"50px"},400,"swing");$(this).animate({height:"50px"}).addClass("big");}c.children("small.type").fadeToggle();if(c.children("small.dark").hasClass("down")){c.children("small.dark").animate({top:"0"}).removeClass("down");
}else{c.children("small.dark").animate({top:"20px"}).addClass("down");}$(this).next("div").animate({height:"toggle",paddingTop:"toggle",paddingBottom:"toggle"});
});$(".activity-popup").click(function(){var c=$(this).children(".item-data");if($(this).hasClass("big")){c.animate({height:"30px"},400,"swing",function(){c.children(".activity-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});
});$(this).animate({height:"30px"}).removeClass("big");}else{c.children(".activity-name").textfill({maxFontPixels:15,explicitWidth:180,explicitHeight:30});
c.animate({height:"50px"},400,"swing");$(this).animate({height:"50px"}).addClass("big");}c.children("small.type").fadeToggle();if(c.children("small.dark").hasClass("down")){c.children("small.dark").animate({top:"0"}).removeClass("down");
}else{c.children("small.dark").animate({top:"20px"}).addClass("down");}$(this).next("div").animate({height:"toggle",paddingTop:"toggle",paddingBottom:"toggle"});
});$(".grimoire-popup").click(function(){$(this).next("div").toggle();b.layout();a.layout();});$(".medal-tooltip").tooltipster({contentAsHTML:true,theme:"tooltip-mastodon",});
});