$(document).ready(function(){$(".character-label").click(function(){$(this).next(".character-content").animate({height:"toggle"});});$(".item-name").textfill({maxFontPixels:15,explicitWidth:150,explicitHeight:30});
$(".progress-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});$(".activity-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});
$(".grimoire-name").textfill({maxFontPixels:18});$(".shader").each(function(){var e=document.getElementById("canvas");var f=e.getContext("2d");var d=$(this).children("img")[0];
f.drawImage(d,0,0);var g=f.getImageData(0,0,1,1).data;console.log(g);$(this).css("background-color","rgb("+g[0]+","+g[1]+","+g[2]+")");});var c=new Masonry("#grimoire",{itemSelector:".grimoire"});
var b=new Masonry("#grimoire-lore",{itemSelector:".grimoire"});var a=new Masonry("#collection",{itemSelector:".collection-card"});$(".progress-card").click(function(){var d=$(this).children(".progress-data");
if($(this).hasClass("big")){d.animate({height:"30px"},400,"swing",function(){d.children(".progress-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});
});d.children(".progress-info").children(".progress-bar").animate({height:"30px",borderRightWidth:"30px"});d.children("small.more").animate({marginLeft:"30px"});
$(this).animate({height:"30px"}).removeClass("big");}else{d.children(".progress-name").textfill({maxFontPixels:15,explicitWidth:180,explicitHeight:30});
d.animate({height:"50px"},400,"swing");d.children(".progress-info").children(".progress-bar").animate({height:"50px",borderRightWidth:"50px"});d.children("small.more").animate({marginLeft:"50px"});
$(this).animate({height:"50px"}).addClass("big");}d.children("small.more").fadeToggle();});$(".card-popup").click(function(){var d=$(this).children(".item-data");
if($(this).hasClass("collection-popup")){if($(this).hasClass("big")){d.css("height","30px");d.children(".item-name").textfill({maxFontPixels:15,explicitWidth:150,explicitHeight:30});
$(this).css("height","30px").removeClass("big");}else{d.children(".item-name").textfill({maxFontPixels:15,explicitWidth:130,explicitHeight:30});d.css("height","50px");
$(this).css("height","50px").addClass("big");}d.children("small.type").toggle();if(d.children("small.dark").hasClass("down")){d.children("small.dark").css("top","0").removeClass("down");
}else{d.children("small.dark").css("top","20px").addClass("down");}$(this).next("div").toggle();a.layout();}else{if($(this).hasClass("big")){d.animate({height:"30px"},400,"swing",function(){d.children(".item-name").textfill({maxFontPixels:15,explicitWidth:150,explicitHeight:30});
});$(this).animate({height:"30px"}).removeClass("big");}else{d.children(".item-name").textfill({maxFontPixels:15,explicitWidth:130,explicitHeight:30});
d.animate({height:"50px"},400,"swing");$(this).animate({height:"50px"}).addClass("big");}d.children("small.type").fadeToggle();if(d.children("small.dark").hasClass("down")){d.children("small.dark").animate({top:"0"}).removeClass("down");
}else{d.children("small.dark").animate({top:"20px"}).addClass("down");}$(this).next("div").animate({height:"toggle",paddingTop:"toggle",paddingBottom:"toggle"});
}});$(".activity-popup").click(function(){var d=$(this).children(".item-data");if($(this).hasClass("big")){d.animate({height:"30px"},400,"swing",function(){d.children(".activity-name").textfill({maxFontPixels:15,explicitWidth:200,explicitHeight:30});
});$(this).animate({height:"30px"}).removeClass("big");}else{d.children(".activity-name").textfill({maxFontPixels:15,explicitWidth:180,explicitHeight:30});
d.animate({height:"50px"},400,"swing");$(this).animate({height:"50px"}).addClass("big");}d.children("small.type").fadeToggle();if(d.children("small.dark").hasClass("down")){d.children("small.dark").animate({top:"0"}).removeClass("down");
}else{d.children("small.dark").animate({top:"20px"}).addClass("down");}$(this).next("div").animate({height:"toggle",paddingTop:"toggle",paddingBottom:"toggle"});
});$(".grimoire-popup").click(function(){$(this).next("div").toggle();c.layout();b.layout();});$(".medal-tooltip").tooltipster({contentAsHTML:true,theme:"tooltip-mastodon",});
});